<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ES6 Template Literals - Complete Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .hero {
            text-align: center;
            padding: 60px 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .hero h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.3em;
            color: rgba(255, 255, 255, 0.9);
            max-width: 600px;
            margin: 0 auto;
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            margin: 30px 0;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .content-section h2 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 2.2em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .content-section h3 {
            color: #2d3748;
            margin: 30px 0 15px 0;
            font-size: 1.5em;
        }

        .code-block {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            position: relative;
            border-left: 4px solid #667eea;
        }

        .code-block::before {
            content: "JavaScript";
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.8em;
            color: #a0aec0;
        }

        .interactive-demo {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            color: white;
        }

        .demo-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .demo-controls input,
        .demo-controls textarea {
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            font-size: 1em;
            font-family: 'Courier New', monospace;
        }

        .demo-controls button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .demo-controls button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .result-display {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-family: 'Courier New', monospace;
        }

        .highlight {
            background: rgba(255, 255, 255, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
            vertical-align: top;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .best-practices {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            color: #2d3748;
        }

        .best-practices h3 {
            color: #2d3748;
            margin-bottom: 15px;
        }

        .best-practices ul {
            padding-left: 20px;
        }

        .best-practices li {
            margin: 10px 0;
            line-height: 1.6;
        }

        .syntax-card {
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .syntax-card h4 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #4a5568;
            margin-bottom: 10px;
        }

        .output-preview {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            border: 1px solid #4a5568;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5em;
            }

            .content-section {
                padding: 20px;
            }

            .demo-controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="hero">
            <h1>ES6 Template Literals</h1>
            <p>Master the power of backticks (`) - String interpolation, multi-line strings, and tagged templates</p>
        </div>

        <div class="content-section">
            <h2>üéØ What Are Template Literals?</h2>
            <p>Template literals are string literals allowing embedded expressions. They're enclosed by backticks (`)
                instead of single or double quotes, and provide several powerful features:</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üîó String Interpolation</h4>
                    <p>Embed expressions directly in strings using <code>${}</code> syntax</p>
                </div>
                <div class="feature-card">
                    <h4>üìù Multi-line Strings</h4>
                    <p>Create strings spanning multiple lines without escape characters</p>
                </div>
                <div class="feature-card">
                    <h4>üè∑Ô∏è Tagged Templates</h4>
                    <p>Process template literals with functions for advanced formatting</p>
                </div>
                <div class="feature-card">
                    <h4>üé® HTML Generation</h4>
                    <p>Perfect for creating dynamic HTML content and templates</p>
                </div>
            </div>

            <div class="syntax-card">
                <h4>Basic Syntax</h4>
                <div class="code-block">
                    // Traditional string concatenation
                    const name = 'Alice';
                    const age = 25;
                    const message1 = 'Hello, ' + name + '! You are ' + age + ' years old.';

                    // Template literal
                    const message2 = `Hello, ${name}! You are ${age} years old.`;

                    console.log(message1); // "Hello, Alice! You are 25 years old."
                    console.log(message2); // "Hello, Alice! You are 25 years old."</div>
            </div>
        </div>

        <div class="content-section">
            <h2>üîó String Interpolation</h2>
            <p>The most common use of template literals is embedding expressions using <code>${expression}</code>
                syntax.</p>

            <h3>Basic Interpolation</h3>
            <div class="code-block">
                const user = { name: 'John', age: 30, city: 'New York' };
                const score = 85;
                const maxScore = 100;

                // Simple variable interpolation
                console.log(`Welcome, ${user.name}!`);

                // Expression evaluation
                console.log(`Your score: ${score}/${maxScore} (${(score/maxScore*100).toFixed(1)}%)`);

                // Object property access
                console.log(`User: ${user.name}, Age: ${user.age}, City: ${user.city}`);

                // Function calls
                console.log(`Current time: ${new Date().toLocaleTimeString()}`);

                // Conditional expressions
                console.log(`Status: ${score >= 60 ? 'Passed' : 'Failed'}`);

                // Mathematical operations
                console.log(`Total: ${10 + 20} items`);
                console.log(`Average: ${(10 + 20 + 30) / 3}`);
            </div>

            <h3>Advanced Interpolation</h3>
            <div class="code-block">
                // Nested template literals
                const buildQuery = (table, conditions) => {
                const whereClause = conditions.length > 0
                ? `WHERE ${conditions.map(c => `${c.field} = '${c.value}'`).join(' AND ')}`
                : '';

                return `SELECT * FROM ${table} ${whereClause}`;
                };

                const conditions = [
                { field: 'status', value: 'active' },
                { field: 'age', value: 25 }
                ];

                console.log(buildQuery('users', conditions));
                // "SELECT * FROM users WHERE status = 'active' AND age = '25'"

                // Complex expressions
                const items = [
                { name: 'Apple', price: 1.50, qty: 5 },
                { name: 'Banana', price: 0.75, qty: 8 },
                { name: 'Orange', price: 2.00, qty: 3 }
                ];

                const receipt = `
                Receipt:
                ${items.map(item =>
                `${item.name}: $${item.price} x ${item.qty} = $${(item.price * item.qty).toFixed(2)}`
                ).join('\n')}
                -----------
                Total: $${items.reduce((sum, item) => sum + (item.price * item.qty), 0).toFixed(2)}
                `;

                console.log(receipt);
            </div>

            <div class="interactive-demo">
                <h3>üéÆ Interactive String Interpolation</h3>
                <div class="demo-controls">
                    <input type="text" id="userName" placeholder="Enter your name" value="Alice">
                    <input type="number" id="userAge" placeholder="Enter your age" value="25">
                    <input type="text" id="userCity" placeholder="Enter your city" value="New York">
                    <button onclick="demonstrateInterpolation()">Generate Message</button>
                    <button onclick="demonstrateCalculation()">Calculate Score</button>
                </div>
                <div class="result-display" id="interpolationResult">
                    Results will appear here...
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üìù Multi-line Strings</h2>
            <p>Template literals preserve line breaks and whitespace, making them perfect for multi-line strings.</p>

            <h3>HTML Generation</h3>
            <div class="code-block">
                // Traditional approach (ugly!)
                const htmlOld = '&lt;div class="card"&gt;\n' +
                ' &lt;h3&gt;' + title + '&lt;/h3&gt;\n' +
                ' &lt;p&gt;' + content + '&lt;/p&gt;\n' +
                '&lt;/div&gt;';

                // Template literal approach (beautiful!)
                const title = 'Welcome';
                const content = 'This is a sample card content.';
                const htmlNew = `
                &lt;div class="card"&gt;
                &lt;h3&gt;${title}&lt;/h3&gt;
                &lt;p&gt;${content}&lt;/p&gt;
                &lt;/div&gt;
                `;

                console.log(htmlNew);
            </div>

            <h3>SQL Queries</h3>
            <div class="code-block">
                const buildComplexQuery = (table, fields, conditions, orderBy) => {
                return `
                SELECT ${fields.join(', ')}
                FROM ${table}
                WHERE ${conditions.map(c => `${c.field} ${c.operator} ${c.value}`).join(' AND ')}
                ORDER BY ${orderBy}
                LIMIT 100
                `;
                };

                const query = buildComplexQuery(
                'users',
                ['id', 'name', 'email', 'created_at'],
                [
                { field: 'status', operator: '=', value: "'active'" },
                { field: 'age', operator: '>=', value: '18' }
                ],
                'created_at DESC'
                );

                console.log(query);
            </div>

            <h3>Configuration Files</h3>
            <div class="code-block">
                const generateConfig = (env, port, database) => {
                return `
                # Application Configuration
                NODE_ENV=${env}
                PORT=${port}

                # Database Configuration
                DB_HOST=${database.host}
                DB_PORT=${database.port}
                DB_NAME=${database.name}
                DB_USER=${database.user}

                # Feature Flags
                ENABLE_LOGGING=${env === 'development'}
                ENABLE_CACHE=${env === 'production'}

                # Generated on: ${new Date().toISOString()}
                `;
                };

                const config = generateConfig('production', 3000, {
                host: 'localhost',
                port: 5432,
                name: 'myapp',
                user: 'admin'
                });

                console.log(config);
            </div>

            <div class="interactive-demo">
                <h3>üéÆ Interactive Multi-line Demo</h3>
                <div class="demo-controls">
                    <input type="text" id="cardTitle" placeholder="Card Title" value="Product Name">
                    <textarea id="cardContent" placeholder="Card Content"
                        rows="3">This is a sample product description that can span multiple lines.</textarea>
                    <input type="text" id="cardPrice" placeholder="Price" value="$29.99">
                    <button onclick="generateHTML()">Generate HTML</button>
                    <button onclick="generateSQL()">Generate SQL</button>
                </div>
                <div class="result-display" id="multilineResult">
                    Results will appear here...
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üè∑Ô∏è Tagged Templates</h2>
            <p>Tagged templates allow you to parse template literals with a function. The tag function receives the
                template parts and values separately.</p>

            <h3>Basic Tagged Template</h3>
            <div class="code-block">
                // Tag function receives template parts and values
                function highlight(strings, ...values) {
                return strings.reduce((result, string, i) => {
                const value = values[i] ? `&lt;mark&gt;${values[i]}&lt;/mark&gt;` : '';
                return result + string + value;
                }, '');
                }

                const name = 'Alice';
                const score = 95;

                // Usage
                const message = highlight`Hello ${name}, your score is ${score}!`;
                console.log(message); // "Hello &lt;mark&gt;Alice&lt;/mark&gt;, your score is
                &lt;mark&gt;95&lt;/mark&gt;!"
            </div>

            <h3>HTML Escaping</h3>
            <div class="code-block">
                // Security: HTML escaping tag
                function safeHTML(strings, ...values) {
                const escapeHTML = (str) => {
                return String(str)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;' ) .replace( />/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#39;');
                };

                return strings.reduce((result, string, i) => {
                const value = values[i] ? escapeHTML(values[i]) : '';
                return result + string + value;
                }, '');
                }

                const userInput = '&lt;script&gt;alert("XSS")&lt;/script&gt;';
                const safeOutput = safeHTML`User input: ${userInput}`;
                console.log(safeOutput); // "User input:
                &amp;lt;script&amp;gt;alert(&quot;XSS&quot;)&amp;lt;/script&amp;gt;"
            </div>

            <h3>Localization</h3>
            <div class="code-block">
                // Localization tag
                const translations = {
                en: {
                greeting: 'Hello',
                farewell: 'Goodbye',
                welcome: 'Welcome back'
                },
                es: {
                greeting: 'Hola',
                farewell: 'Adi√≥s',
                welcome: 'Bienvenido de vuelta'
                },
                fr: {
                greeting: 'Bonjour',
                farewell: 'Au revoir',
                welcome: 'Bon retour'
                }
                };

                function i18n(strings, ...keys) {
                const lang = document.documentElement.lang || 'en';
                return strings.reduce((result, string, i) => {
                const key = keys[i];
                const translation = key ? translations[lang][key] || key : '';
                return result + string + translation;
                }, '');
                }

                // Usage
                const greeting = i18n`${'greeting'}, Alice!`;
                const welcome = i18n`${'welcome'}, Alice!`;
                console.log(greeting); // "Hello, Alice!" (if lang is 'en')
            </div>

            <h3>CSS-in-JS Styling</h3>
            <div class="code-block">
                // CSS-in-JS style tag
                function css(strings, ...values) {
                const cssString = strings.reduce((result, string, i) => {
                const value = values[i] || '';
                return result + string + value;
                }, '');

                // Create a style element and add the CSS
                const style = document.createElement('style');
                style.textContent = cssString;
                document.head.appendChild(style);

                return cssString;
                }

                // Usage
                const primaryColor = '#667eea';
                const secondaryColor = '#764ba2';

                const styles = css`
                .dynamic-button {
                background: linear-gradient(45deg, ${primaryColor}, ${secondaryColor});
                color: white;
                padding: 10px 20px;
                border: none;
                border-radius: 5px;
                cursor: pointer;
                transition: transform 0.2s;
                }

                .dynamic-button:hover {
                transform: scale(1.05);
                }
                `;
            </div>

            <div class="interactive-demo">
                <h3>üéÆ Interactive Tagged Templates</h3>
                <div class="demo-controls">
                    <input type="text" id="taggedName" placeholder="Enter name" value="Alice">
                    <input type="text" id="taggedValue" placeholder="Enter value" value="Important">
                    <button onclick="demonstrateHighlight()">Highlight Tag</button>
                    <button onclick="demonstrateEscape()">HTML Escape</button>
                    <button onclick="demonstrateI18n()">Localization</button>
                </div>
                <div class="result-display" id="taggedResult">
                    Results will appear here...
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>üîÑ Template Literals vs Traditional Strings</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Traditional Strings</th>
                        <th>Template Literals</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Syntax</strong></td>
                        <td><code>'text' + variable</code></td>
                        <td><code>`text ${variable}`</code></td>
                    </tr>
                    <tr>
                        <td><strong>Multi-line</strong></td>
                        <td><code>'line1\n' + 'line2'</code></td>
                        <td><code>`line1<br>line2`</code></td>
                    </tr>
                    <tr>
                        <td><strong>Expressions</strong></td>
                        <td><code>'Result: ' + (a + b)</code></td>
                        <td><code>`Result: ${a + b}`</code></td>
                    </tr>
                    <tr>
                        <td><strong>Readability</strong></td>
                        <td>Poor with complex strings</td>
                        <td>Excellent</td>
                    </tr>
                    <tr>
                        <td><strong>Performance</strong></td>
                        <td>Multiple concatenations</td>
                        <td>Single template processing</td>
                    </tr>
                    <tr>
                        <td><strong>Tagged Templates</strong></td>
                        <td>Not supported</td>
                        <td>Supported</td>
                    </tr>
                </tbody>
            </table>

            <h3>Performance Comparison</h3>
            <div class="code-block">
                // Performance test example
                const iterations = 100000;
                const name = 'Alice';
                const age = 25;
                const city = 'New York';

                // Traditional concatenation
                console.time('Traditional');
                for (let i = 0; i < iterations; i++) { const result='Hello ' + name + ', you are ' + age
                    + ' years old and live in ' + city; } console.timeEnd('Traditional'); // Template literals
                    console.time('Template Literals'); for (let i=0; i < iterations; i++) { const result=`Hello ${name},
                    you are ${age} years old and live in ${city}`; } console.timeEnd('Template Literals'); // Template
                    literals are generally faster and more readable! </div>
            </div>

            <div class="content-section">
                <h2>üöÄ Real-world Examples</h2>

                <h3>1. React Component Template</h3>
                <div class="code-block">
                    // React component with template literals
                    const UserCard = ({ user, isOnline }) => {
                    const cardHTML = `
                    &lt;div class="user-card ${isOnline ? 'online' : 'offline'}"&gt;
                    &lt;img src="${user.avatar}" alt="${user.name}"&gt;
                    &lt;h3&gt;${user.name}&lt;/h3&gt;
                    &lt;p&gt;${user.bio}&lt;/p&gt;
                    &lt;span class="status"&gt;${isOnline ? 'üü¢ Online' : 'üî¥ Offline'}&lt;/span&gt;
                    &lt;/div&gt;
                    `;

                    return cardHTML;
                    };
                </div>

                <h3>2. Email Template Generator</h3>
                <div class="code-block">
                    const generateEmailTemplate = (user, order) => {
                    const itemsList = order.items.map(item =>
                    `&lt;li&gt;${item.name} - $${item.price} x ${item.quantity}&lt;/li&gt;`
                    ).join('');

                    return `
                    &lt;!DOCTYPE html&gt;
                    &lt;html&gt;
                    &lt;head&gt;
                    &lt;title&gt;Order Confirmation&lt;/title&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                    &lt;h1&gt;Thank you for your order, ${user.name}!&lt;/h1&gt;
                    &lt;p&gt;Order #${order.id} has been confirmed.&lt;/p&gt;

                    &lt;h2&gt;Order Details:&lt;/h2&gt;
                    &lt;ul&gt;
                    ${itemsList}
                    &lt;/ul&gt;

                    &lt;p&gt;&lt;strong&gt;Total: $${order.total.toFixed(2)}&lt;/strong&gt;&lt;/p&gt;
                    &lt;p&gt;Estimated delivery: ${order.deliveryDate}&lt;/p&gt;
                    &lt;/body&gt;
                    &lt;/html&gt;
                    `;
                    };
                </div>

                <h3>3. API Response Formatter</h3>
                <div class="code-block">
                    // API response formatter
                    const formatAPIResponse = (endpoint, method, status, data, duration) => {
                    const statusIcon = status >= 200 && status < 300 ? '‚úÖ' : '‚ùå' ; const timestamp=new
                        Date().toISOString(); return ` ${statusIcon} API Call
                        Report================================Endpoint: ${method.toUpperCase()} ${endpoint} Status:
                        ${status} Duration: ${duration}ms Timestamp: ${timestamp} Response Data: ${JSON.stringify(data,
                        null, 2)}================================`; }; // Usage const
                        report=formatAPIResponse( '/api/users' , 'GET' , 200, { users: [{ id: 1, name: 'Alice' }] }, 145
                        ); console.log(report); </div>

                        <div class="interactive-demo">
                            <h3>üéÆ Real-world Template Demo</h3>
                            <div class="demo-controls">
                                <input type="text" id="productName" placeholder="Product Name" value="Laptop">
                                <input type="number" id="productPrice" placeholder="Price" value="999.99">
                                <input type="number" id="productStock" placeholder="Stock" value="5">
                                <button onclick="generateProductCard()">Product Card</button>
                                <button onclick="generateEmailTemplate()">Email Template</button>
                            </div>
                            <div class="result-display" id="realWorldResult">
                                Results will appear here...
                            </div>
                        </div>
                </div>

                <div class="best-practices">
                    <h3>‚úÖ Best Practices</h3>
                    <ul>
                        <li><strong>Use template literals for string interpolation:</strong> They're more readable than
                            concatenation</li>
                        <li><strong>Leverage multi-line capabilities:</strong> Great for HTML, SQL, and configuration
                            generation</li>
                        <li><strong>Be careful with whitespace:</strong> Template literals preserve all whitespace and
                            line breaks</li>
                        <li><strong>Use tagged templates for processing:</strong> Perfect for HTML escaping, i18n, and
                            CSS-in-JS</li>
                        <li><strong>Consider performance:</strong> Template literals are generally faster than
                            concatenation</li>
                        <li><strong>Escape user input:</strong> Always sanitize user input when generating HTML</li>
                        <li><strong>Use meaningful expressions:</strong> Keep expressions in ${} simple and readable
                        </li>
                        <li><strong>Consider debugging:</strong> Template literals can make debugging easier with clear
                            structure</li>
                    </ul>
                </div>

                <div class="content-section">
                    <h2>‚ö†Ô∏è Common Pitfalls</h2>

                    <h3>1. Whitespace Preservation</h3>
                    <div class="code-block">
                        // Pitfall: Unwanted whitespace
                        const badHTML = `
                        &lt;div&gt;
                        &lt;p&gt;Content&lt;/p&gt;
                        &lt;/div&gt;
                        `; // Includes leading/trailing whitespace

                        // Solution: Trim or use different formatting
                        const goodHTML = `
                        &lt;div&gt;
                        &lt;p&gt;Content&lt;/p&gt;
                        &lt;/div&gt;`.trim();
                    </div>

                    <h3>2. Security Issues</h3>
                    <div class="code-block">
                        // Pitfall: XSS vulnerability
                        const userInput = '&lt;script&gt;alert("XSS")&lt;/script&gt;';
                        const dangerousHTML = `&lt;div&gt;${userInput}&lt;/div&gt;`; // Dangerous!

                        // Solution: Use tagged templates for escaping
                        function safe(strings, ...values) {
                        // Escape HTML entities
                        const escape = str => String(str).replace(/[&<>"']/g,
                            char => ({ '&': '&amp;', '<': '&lt;' , '>' : '&gt;' , '"' : '&quot;' , "'" : '&#39;'
                                }[char]) ); return strings.reduce((result, string, i)=>
                                result + string + (values[i] ? escape(values[i]) : ''), '');
                                }

                                const safeHTML = safe`&lt;div&gt;${userInput}&lt;/div&gt;`; // Safe!
                    </div>

                    <h3>3. Performance with Large Strings</h3>
                    <div class="code-block">
                        // Pitfall: Inefficient for large datasets
                        const items = Array.from({ length: 10000 }, (_, i) => ({ id: i, name: `Item ${i}` }));

                        // Inefficient: Multiple template literal evaluations
                        let html = '';
                        items.forEach(item => {
                        html += `&lt;div&gt;${item.name}&lt;/div&gt;`;
                        });

                        // Better: Use array methods
                        const efficientHTML = items.map(item =>
                        `&lt;div&gt;${item.name}&lt;/div&gt;`
                        ).join('');
                    </div>
                </div>
            </div>

            <script>
                function demonstrateInterpolation() {
                    const name = document.getElementById('userName').value;
                    const age = document.getElementById('userAge').value;
                    const city = document.getElementById('userCity').value;

                    const message = `Hello, ${name}! You are ${age} years old and live in ${city}.`;
                    const conditional = `Status: ${age >= 18 ? 'Adult' : 'Minor'}`;
                    const calculation = `In 10 years, you'll be ${parseInt(age) + 10} years old.`;

                    const result = `
                <h4>String Interpolation Results</h4>
                <p><strong>Basic:</strong> ${message}</p>
                <p><strong>Conditional:</strong> ${conditional}</p>
                <p><strong>Calculation:</strong> ${calculation}</p>
                <p><strong>Template:</strong> <code>\`Hello, \${name}! You are \${age} years old...\`</code></p>
            `;

                    document.getElementById('interpolationResult').innerHTML = result;
                }

                function demonstrateCalculation() {
                    const name = document.getElementById('userName').value;
                    const age = parseInt(document.getElementById('userAge').value);

                    const birthYear = new Date().getFullYear() - age;
                    const nextBirthday = new Date(new Date().getFullYear() + 1, 0, 1);
                    const daysUntilNewYear = Math.ceil((nextBirthday - new Date()) / (1000 * 60 * 60 * 24));

                    const result = `
                <h4>Advanced Calculations</h4>
                <p><strong>Birth Year:</strong> ${birthYear}</p>
                <p><strong>Days until New Year:</strong> ${daysUntilNewYear}</p>
                <p><strong>Age Category:</strong> ${age < 13 ? 'Child' : age < 20 ? 'Teen' : age < 65 ? 'Adult' : 'Senior'}</p>
                <p><strong>Complex Expression:</strong> ${name.length > 5 ? `${name} has a long name` : `${name} has a short name`}</p>
            `;

                    document.getElementById('interpolationResult').innerHTML = result;
                }

                function generateHTML() {
                    const title = document.getElementById('cardTitle').value;
                    const content = document.getElementById('cardContent').value;
                    const price = document.getElementById('cardPrice').value;

                    const html = `
<div class="product-card">
    <h3>${title}</h3>
    <p>${content}</p>
    <div class="price">${price}</div>
    <button onclick="addToCart('${title}')">Add to Cart</button>
</div>`;

                    const result = `
                <h4>Generated HTML</h4>
                <div class="output-preview">${html.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</div>
                <p><strong>Rendered Preview:</strong></p>
                <div style="border: 1px solid #ccc; padding: 15px; border-radius: 5px; background: white; color: #333;">
                    ${html}
                </div>
            `;

                    document.getElementById('multilineResult').innerHTML = result;
                }

                function generateSQL() {
                    const title = document.getElementById('cardTitle').value;
                    const price = parseFloat(document.getElementById('cardPrice').value.replace('$', ''));

                    const sql = `
SELECT p.id, p.name, p.price, p.description, c.name as category
FROM products p
JOIN categories c ON p.category_id = c.id
WHERE p.name LIKE '%${title}%'
   AND p.price <= ${price}
   AND p.status = 'active'
ORDER BY p.price ASC, p.name ASC
LIMIT 10;`;

                    const result = `
                <h4>Generated SQL Query</h4>
                <div class="output-preview">${sql}</div>
                <p><strong>Query Purpose:</strong> Find products similar to "${title}" with price ‚â§ ${price}</p>
            `;

                    document.getElementById('multilineResult').innerHTML = result;
                }

                function demonstrateHighlight() {
                    const name = document.getElementById('taggedName').value;
                    const value = document.getElementById('taggedValue').value;

                    // Simulate highlight tag function
                    function highlight(strings, ...values) {
                        return strings.reduce((result, string, i) => {
                            const val = values[i] ? `<mark style="background: yellow; padding: 2px 4px; border-radius: 3px;">${values[i]}</mark>` : '';
                            return result + string + val;
                        }, '');
                    }

                    const highlighted = highlight`Hello ${name}, this is ${value} information!`;

                    const result = `
                <h4>Highlight Tagged Template</h4>
                <p><strong>Input:</strong> highlight\`Hello \${name}, this is \${value} information!\`</p>
                <p><strong>Output:</strong> ${highlighted}</p>
                <p><strong>Effect:</strong> Variables are automatically highlighted</p>
            `;

                    document.getElementById('taggedResult').innerHTML = result;
                }

                function demonstrateEscape() {
                    const input = '&lt;script&gt;alert("XSS")&lt;/script&gt;';

                    // Simulate HTML escape function
                    function safeHTML(strings, ...values) {
                        const escapeHTML = str => String(str)
                            .replace(/&/g, '&amp;')
                            .replace(/</g, '&lt;')
                            .replace(/>/g, '&gt;')
                            .replace(/"/g, '&quot;')
                            .replace(/'/g, '&#39;');

                        return strings.reduce((result, string, i) => {
                            const val = values[i] ? escapeHTML(values[i]) : '';
                            return result + string + val;
                        }, '');
                    }

                    const escaped = safeHTML`User input: ${input}`;

                    const result = `
                <h4>HTML Escape Tagged Template</h4>
                <p><strong>Dangerous Input:</strong> <code>${input}</code></p>
                <p><strong>Safe Output:</strong> ${escaped}</p>
                <p><strong>Effect:</strong> HTML entities are automatically escaped</p>
            `;

                    document.getElementById('taggedResult').innerHTML = result;
                }

                function demonstrateI18n() {
                    const translations = {
                        en: { greeting: 'Hello', farewell: 'Goodbye' },
                        es: { greeting: 'Hola', farewell: 'Adi√≥s' },
                        fr: { greeting: 'Bonjour', farewell: 'Au revoir' }
                    };

                    function i18n(strings, ...keys) {
                        const lang = 'en'; // Simulated language
                        return strings.reduce((result, string, i) => {
                            const key = keys[i];
                            const translation = key ? translations[lang][key] || key : '';
                            return result + string + translation;
                        }, '');
                    }

                    const greeting = i18n`${'greeting'}, Alice!`;
                    const farewell = i18n`${'farewell'}, Alice!`;

                    const result = `
                <h4>Internationalization Tagged Template</h4>
                <p><strong>English:</strong> ${greeting} / ${farewell}</p>
                <p><strong>Usage:</strong> <code>i18n\`\${'greeting'}, Alice!\`</code></p>
                <p><strong>Effect:</strong> Automatic translation based on language keys</p>
            `;

                    document.getElementById('taggedResult').innerHTML = result;
                }

                function generateProductCard() {
                    const name = document.getElementById('productName').value;
                    const price = document.getElementById('productPrice').value;
                    const stock = document.getElementById('productStock').value;

                    const card = `
<div class="product-card" style="border: 1px solid #ddd; padding: 20px; border-radius: 8px; background: #f9f9f9;">
    <h3 style="margin: 0 0 10px 0; color: #333;">${name}</h3>
    <p style="font-size: 1.5em; color: #2c5aa0; font-weight: bold;">$${price}</p>
    <p style="color: ${parseInt(stock) > 0 ? 'green' : 'red'};">
        ${parseInt(stock) > 0 ? `${stock} in stock` : 'Out of stock'}
    </p>
    <button style="background: #2c5aa0; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;">
        ${stock > 0 ? 'Add to Cart' : 'Notify When Available'}
    </button>
</div>`;

                    const result = `
                <h4>Product Card Template</h4>
                <div style="margin: 15px 0;">
                    ${card}
                </div>
                <p><strong>Features:</strong> Dynamic pricing, stock status, conditional buttons</p>
            `;

                    document.getElementById('realWorldResult').innerHTML = result;
                }

                function generateEmailTemplate() {
                    const name = document.getElementById('productName').value;
                    const price = document.getElementById('productPrice').value;

                    const email = `
Subject: Your ${name} Order Confirmation

Dear Customer,

Thank you for your recent purchase! Here are your order details:

Product: ${name}
Price: $${price}
Order Date: ${new Date().toLocaleDateString()}
Estimated Delivery: ${new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString()}

We appreciate your business and hope you enjoy your new ${name}!

Best regards,
The Sales Team`;

                    const result = `
                <h4>Email Template</h4>
                <div class="output-preview">${email}</div>
                <p><strong>Features:</strong> Dynamic content, date calculations, personalization</p>
            `;

                    document.getElementById('realWorldResult').innerHTML = result;
                }

                // Initialize with default demonstrations
                document.addEventListener('DOMContentLoaded', function () {
                    demonstrateInterpolation();
                    generateHTML();
                    demonstrateHighlight();
                    generateProductCard();
                });
            </script>
</body>

</html>